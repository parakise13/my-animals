"use strict";(self.webpackChunkmy_animal=self.webpackChunkmy_animal||[]).push([[13],{591:function(e,n,a){a.d(n,{Z:function(){return l}});var i=a(885),r=a(791),t=a(184),l=function(e){var n=(0,r.useState)(),a=(0,i.Z)(n,2),l=a[0],s=a[1],d=(0,r.useState)(),c=(0,i.Z)(d,2),o=c[0],u=c[1],p=(0,r.useState)(!0),m=(0,i.Z)(p,2),x=m[0],h=m[1],_=(0,r.useRef)();(0,r.useEffect)((function(){if(l){var e=new FileReader;e.onload=function(){u(e.result)},e.readAsDataURL(l)}}),[l]);return(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("input",{id:e.id,ref:_,type:"file",accept:".jpg,.png,.jpeg",name:"profile-img",onChange:function(n){var a,i=x;n.target.files&&1===n.target.files.length?(a=n.target.files[0],s(a),h(!0),i=!0):(h(!1),i=!1),e.onInput(e.id,a,i)},style:{display:"none"}}),(0,t.jsxs)("div",{className:"image-upload",children:[(0,t.jsxs)("div",{className:"image-upload__preview",children:[o&&(0,t.jsx)("img",{src:o.toString(),alt:"preview"}),!o&&(0,t.jsx)("p",{children:"\uc0ac\uc9c4\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."})]}),(0,t.jsx)("button",{type:"button",onClick:function(){_.current.click()},children:"\uc0ac\uc9c4 \uc120\ud0dd"})]}),(0,t.jsx)("p",{children:!x&&"* ".concat(e.errorText)})]})}},625:function(e,n,a){a.r(n),a.d(n,{default:function(){return j}});var i=a(214),r=a(861),t=a(885),l=a(791),s=a(871),d=a(158),c=a(581),o=a(436),u=a(612),p=a(591),m=a(534),x=a(101),h={"new-animal":"AddAnimal_new-animal__5H8sC","new-animal__detail":"AddAnimal_new-animal__detail__0X+6W","new-animal__desc":"AddAnimal_new-animal__desc__CqFHP","new-animal__btn":"AddAnimal_new-animal__btn__ezQcj","form-control__invalid":"AddAnimal_form-control__invalid__1jcFS","error-text":"AddAnimal_error-text__0dBN1"},_=a(89),v=a(184),j=function(){var e=(0,o.Z)(),n=e.isLoading,a=e.error,j=e.sendRequest,f=e.clearError,g=(0,l.useContext)(d.V),w=(0,s.s0)(),b=(0,c.Z)({animalName:{value:"",isValid:!1},species:{value:"",isValid:!1},age:{value:"",isValid:!1},description:{value:"",isValid:!1},imageUrl:{value:null,isValid:!1}},!1),Z=(0,t.Z)(b,2),A=Z[0],N=Z[1],y=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,(a=new FormData).append("animalName",A.inputs.animalName.value),a.append("species",A.inputs.species.value),a.append("age",A.inputs.age.value),a.append("description",A.inputs.description.value),a.append("imageUrl",A.inputs.imageUrl.value),g.userId&&a.append("creator",g.userId),e.next=11,j("".concat("https://my-animals.herokuapp.com/api","/animals"),"POST",{Authorization:"Bearer ".concat(g.token)},a);case 11:r=e.sent,console.log(r),w("/".concat(g.userId,"/animals")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsxs)(l.Fragment,{children:[n&&(0,v.jsx)(x.Z,{isLoading:n}),a&&(0,v.jsx)(_.Z,{onClose:f,errorText:a}),(0,v.jsxs)("div",{className:h["new-animal"],children:[(0,v.jsx)("h2",{children:"ADD NEW TODO"}),(0,v.jsxs)("form",{onSubmit:y,children:[(0,v.jsxs)("div",{className:h["new-animal__detail"],children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"animalName",children:"\uc774\ub984 : "}),(0,v.jsx)(m.Z,{id:"animalName",type:"text",placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",element:"input",validators:[(0,u.hg)()],onInput:N,errorText:"\uc62c\ubc14\ub978 \uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"species",children:"\uc885\ub958 : "}),(0,v.jsx)(m.Z,{id:"species",type:"text",placeholder:"\uc885\ub958\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",element:"input",validators:[(0,u.hg)()],onInput:N,errorText:"\uc62c\ubc14\ub978 \uc885\ub958\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"age",children:"\ub098\uc774 : "}),(0,v.jsx)(m.Z,{id:"age",type:"number",placeholder:"\ub098\uc774\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",element:"input",validators:[(0,u.hg)()],onInput:N,errorText:"\uc62c\ubc14\ub978 \ub098\uc774\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]})]}),(0,v.jsx)("div",{className:h["image-input"],children:(0,v.jsx)(p.Z,{onInput:N,id:"imageUrl",errorText:"\uc62c\ubc14\ub978 \uc0ac\uc9c4\uc744 \ub123\uc5b4\uc8fc\uc138\uc694."})}),(0,v.jsxs)("div",{className:h["new-animal__desc"],children:[(0,v.jsx)("label",{htmlFor:"description",children:"\ud2b9\uc9d5 : "}),(0,v.jsx)(m.Z,{id:"description",placeholder:"\ud2b9\uc9d5\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",element:"textarea",validators:[(0,u.CP)(5)],rows:5,onInput:N,errorText:"\ud2b9\uc9d5\uc744 5\uae00\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,v.jsx)("div",{className:h["new-animal__btn"],children:(0,v.jsx)("button",{type:"submit",disabled:!A.isValid,children:"\ucd94\uac00\ud558\uae30"})})]})]})]})}}}]);
//# sourceMappingURL=13.46aed470.chunk.js.map